# گزارش تحلیل اکتشافی داده‌ها (EDA Report)
**پروژه:** پیش‌بینی دیابت با یادگیری ماشین
**تاریخ:** دسامبر ۲۰۲۵

---

## ۱. مقدمه
در این بخش، داده‌های خام دیتاست Pima Indians Diabetes مورد بررسی آماری و بصری قرار گرفتند. هدف از این تحلیل، شناخت ساختار داده‌ها، پیدا کردن مشکلات احتمالی (مثل داده‌های پرت یا گم‌شده) و توجیه انتخاب روش‌های پیش‌پردازش و مدل‌سازی است.

---

## ۲. تحلیل نمودارها

### الف) نمودار تعادل کلاس‌ها (Class Balance)
<p align="center">
  <img src="../python_plots/1_balance.png" alt="Class Balance" width="450">
</p>

*   **مشاهدات:**
    *   تعداد افراد سالم (کلاس ۰): ۵۰۰ نفر (حدود ۶۵٪).
    *   تعداد افراد دیابتی (کلاس ۱): ۲۶۸ نفر (حدود ۳۵٪).
*   **تحلیل مهندسی:**
    داده‌ها **نامتوازن (Imbalanced)** هستند. تعداد نمونه‌های سالم تقریباً دو برابر افراد بیمار است.
*   **نتیجه‌گیری برای پروژه:**
    *   دقت (Accuracy) به تنهایی معیار کافی نیست. اگر مدل ما چشم‌بسته همه را "سالم" تشخیص دهد، باز هم ۶۵٪ دقت خواهد داشت! بنابراین در مرحله ارزیابی، باید حتماً به **Confusion Matrix** و معیارهایی مثل تشخیص درست بیماران دقت کنیم.

---

### ب) نمودار جعبه‌ای تشخیص داده‌های پرت (Outlier Detection)
<p align="center">
  <img src="../python_plots/2_outliers_boxplot.png" alt="Box Plot" width="450">
</p>

*   **مشاهدات:**
    *   تقریباً در تمام ویژگی‌ها (به‌خصوص `Insulin`, `DiabetesPedigree`, `BloodPressure`) نقاط دایره‌ای خارج از بازه خطی دیده می‌شود.
    *   ستون `Insulin` دارای مقادیر بسیار بزرگ (پرت) است.
*   **تحلیل مهندسی:**
    این نقاط "داده‌های پرت" (Outliers) هستند. در پزشکی، این مقادیر ممکن است خطای آزمایشگاه باشند یا نشان‌دهنده بیماران با وضعیت حاد.
*   **نتیجه‌گیری برای پروژه:**
    *   ما نباید همه این داده‌ها را حذف کنیم، زیرا ممکن است اطلاعات مهمی داشته باشند.
    *   وجود این اختلاف مقادیر شدید، ضرورت **نرمال‌سازی (Normalization)** را اثبات می‌کند. اگر داده‌ها نرمال نشوند، این عددهای بزرگ (مثل انسولین ۸۰۰) بر روی الگوریتم‌هایی که با "فاصله" کار می‌کنند (مثل KNN) تاثیر منفی می‌گذارند و مدل را منحرف می‌کنند.

---

### ج) نمودارهای پراکندگی (Scatter Plots)
*(رابطه گلوکز با انسولین و BMI)*
<p align="center">
  <img src="../python_plots/3_scatter_glucose_insulin.png" alt="Scatter Glucose-Insulin" width="450">
  <img src="../python_plots/4_scatter_glucose_bmi.png" alt="Scatter Glucose-BMI" width="450">
</p>

*   **مشاهدات:**
    *   نقاط قرمز (بیمار) بیشتر در سمت راست و بالا (قند و انسولین بالا) تجمع کرده‌اند.
    *   نقاط آبی (سالم) در سمت چپ و پایین هستند.
    *   **نکته کلیدی:** هیچ خط صافی وجود ندارد که بتواند کاملاً قرمزها را از آبی‌ها جدا کند. داده‌ها در هم تنیده شده‌اند (Overlapping).
*   **تحلیل مهندسی:**
    مرز بین سالم و بیمار "خطی" نیست. نمی‌توان با یک خط کش ساده گفت "هر کس قندش بالای X بود دیابت دارد". بسیاری از افراد قند بالا دارند اما سالم‌اند و برعکس.
*   **نتیجه‌گیری برای مدل‌سازی:**
    *   این نمودارها دلیل انتخاب الگوریتم **KNN (K-Nearest Neighbors)** را توجیه می‌کنند. الگوریتم‌های خطی ساده در اینجا دقت کمی خواهند داشت، اما KNN چون بر اساس "همسایگی" تصمیم می‌گیرد، می‌تواند این پیچیدگی و درهم‌تنیدگی را بهتر مدیریت کند.

---

### د) نمودارهای توزیع ویژگی‌ها (Histograms)
<p align="center">
  <img src="../python_plots/distribution.png" alt="Distribution" width="450">
</p>

*   **مشاهدات:**
    *   در نمودارهای `Insulin`, `SkinThickness`, `BloodPressure` یک ستون بلند غیرطبیعی روی عدد **۰** دیده می‌شود.
    *   توزیع `Glucose` و `BMI` تقریباً نرمال (زنگوله‌ای) است.
*   **تحلیل مهندسی:**
    فشار خون یا ضخامت پوست انسان نمی‌تواند صفر باشد. این صفرها در واقع همان **داده‌های گم‌شده (Missing Values)** هستند که در دیتابیس با صفر پر شده‌اند.
*   **نتیجه‌گیری برای پیش‌پردازش:**
    *   این نمودارها اثبات می‌کنند که کدی که برای **جایگزینی صفرها با میانگین (Imputation)** نوشتیم، یک کار تفریحی نبود، بلکه یک ضرورت حیاتی برای جلوگیری از خطای مدل بود.

---

### هـ) ماتریس همبستگی (Correlation Heatmap)
<p align="center">
  <img src="../python_plots/heatmap.png" alt="Correlation Matrix" width="450">
</p>

*   **مشاهدات:**
    *   بیشترین ارتباط با بیماری (`Outcome`) مربوط به **`Glucose` (0.47)** است.
    *   بعد از آن `BMI` (0.29) و `Age` (0.24) قرار دارند.
    *   ارتباط `BloodPressure` با بیماری بسیار کم (0.07) است.
    *   همبستگی قوی بین `Age` و `Pregnancies` (0.54) وجود دارد که منطقی است.
*   **نتیجه‌گیری:**
    *   قند خون (Glucose) مهم‌ترین فاکتور تعیین‌کننده است.
    *   ویژگی‌ها همبستگی خیلی شدیدی با هم ندارند (مثلاً بالای ۰.۸ نداریم)، بنابراین مشکل "هم‌خطی چندگانه" (Multicollinearity) جدی نیست و می‌توانیم همه ویژگی‌ها را در مدل نگه داریم.

---

## ۳. جمع‌بندی نهایی
بر اساس این تحلیل‌ها، نقشه راه پروژه به صورت زیر تایید می‌شود:
1.  **پاکسازی:** صفرهای شناسایی شده در هیستوگرام‌ها باید با میانگین جایگزین شوند.
2.  **نرمال‌سازی:** به خاطر وجود داده‌های پرت در نمودار جعبه‌ای، تمام داده‌ها باید هم‌مقیاس شوند.
3.  **انتخاب مدل:** به دلیل تفکیک‌ناپذیری خطی در نمودارهای پراکندگی، از الگوریتم غیرخطی **KNN** استفاده خواهیم کرد.