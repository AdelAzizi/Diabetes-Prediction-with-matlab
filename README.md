# سیستم هوشمند پیش‌بینی دیابت با متلب (MATLAB Diabetes Prediction System)

این سند راهنما (README) برای آشنایی سریع با ساختار، جریان اجرای برنامه و نقشه راه یادگیری پروژه «پیش‌بینی دیابت با یادگیری ماشین» تهیه شده است. هدف این است که یک همکار جدید بتواند در کوتاه‌ترین زمان، معماری و منطق فنی پروژه را درک کند.

---

## ۱. نمای کلی پروژه و ساختار فایل‌ها (Project Structure)

پروژه بر اساس یک ساختار ماژولار و لایه‌ای طراحی شده است تا تفکیک وظایف (Separation of Concerns) به خوبی رعایت شود. هر پوشه وظیفه مشخصی دارد:

| پوشه/فایل | وظیفه اصلی | محتویات کلیدی |
| :--- | :--- | :--- |
| `main.m` | **نقطه شروع (Entry Point)** | مدیریت جریان اجرای پروژه (فراخوانی توابع به ترتیب). |
| `data/` | **داده‌های خام** | فایل دیتاست اصلی (`diabetes.csv`) و توضیحات آن. |
| `src/` | **کدهای منبع (Source Code)** | توابع اصلی پروژه (`load_data.m`, `preprocess.m`, `evaluate_model.m`, ...). |
| `src/doc/` | **مستندات فنی کد** | توضیحات خط به خط و فنی هر تابع در پوشه `src/`. |
| `doc/` | **مستندات معماری** | نقشه‌راه پروژه (`Project_Roadmap.md`) و مستندات طراحی (`Design.md`). |
| `analysis/` | **گزارش‌های تحلیلی** | گزارش تحلیل اکتشافی داده‌ها (EDA) و تحلیل نتایج نهایی. |
| `results/` | **خروجی‌های نهایی** | نمودارهای ذخیره شده (مانند Confusion Matrix و ROC Curve). |

### ساختار درختی پروژه

```text
Diabetes-Prediction-with-matlab/
│
├── README.md                      <-- همین فایل
├── main.m                         <-- فایل اصلی اجرا
│
├── analysis/                      <-- گزارش‌ها
│   ├── Data_Analysis_Report.md    <-- گزارش EDA
│   └── Results_Analysis.md        <-- گزارش عملکرد نهایی
│
├── data/                          <-- دیتاست
│   ├── README.md                  <-- توضیحات دیتاست
│   └── diabetes.csv               <-- فایل داده
│
├── doc/                           <-- مستندات طراحی
│   ├── Design.md                  <-- معماری سیستم
│   └── Project_Roadmap.md         <-- نقشه راه و نیازمندی‌ها
│
├── results/                       <-- خروجی نمودارها
│   ├── Confusion Matrix.jpg
│   └── ROC Curve.jpg
│
└── src/                           <-- توابع متلب
    ├── analyze_data.m             <-- تحلیل بصری داده‌ها
    ├── compare_models.m           <-- مقایسه مدل‌ها
    ├── evaluate_model.m           <-- ارزیابی تخصصی مدل
    ├── load_data.m                <-- بارگذاری داده
    ├── optimize_model.m           <-- بهینه‌سازی پارامترها
    ├── preprocess.m               <-- پیش‌پردازش داده
    └── doc/                       <-- مستندات فنی توابع
        ├── analyze_data.md
        ├── compare_models.md
        ├── evaluate_model.md
        ├── load_data.md
        ├── optimize_model.md
        └── preprocess.md
```

---

## ۲. جریان اجرای برنامه (Program Flow)

فایل `main.m` به عنوان رهبر ارکستر، تمام مراحل پروژه یادگیری ماشین را به صورت گام به گام و متوالی اجرا می‌کند. درک این جریان برای فهمیدن منطق کلی پروژه حیاتی است.

| گام | تابع فراخوانی شده | وظیفه تابع | خروجی اصلی |
| :--- | :--- | :--- | :--- |
| **۱** | `load_data(dataFilePath)` | **بارگذاری داده:** خواندن امن فایل `diabetes.csv` و تبدیل آن به یک جدول متلب. | `data` (جدول داده‌های خام) |
| **۲** | `analyze_data(data)` | **تحلیل اکتشافی (EDA):** رسم نمودارهای توزیع، همبستگی و خلاصه آماری برای درک ساختار داده‌ها. | نمودارهای بصری (بدون تغییر در داده) |
| **۳** | `preprocess(data)` | **پیش‌پردازش هوشمند:** حذف ویژگی‌های ضعیف، جایگزینی صفرهای غیرمنطقی با میانه، نرمال‌سازی و تقسیم داده‌ها (۷۰٪ آموزش، ۳۰٪ تست). | `X_train`, `Y_train`, `X_test`, `Y_test` (چهار ماتریس تمیز و آماده) |
| **۴** | `compare_models(...)` | **انتخاب مدل:** آموزش و مقایسه چندین الگوریتم (KNN, Tree, Ensemble, ...) و انتخاب مدلی که بالاترین دقت را دارد. | `bestName` (نام مدل برنده، مثلاً \'Ensemble\') |
| **۵** | `optimize_model(bestName, ...)` | **بهینه‌سازی پارامترها:** تنظیم دقیق پارامترهای مدل برنده (Hyperparameter Optimization) برای رسیدن به حداکثر کارایی. | `finalModel` (مدل نهایی و بهینه شده) |
| **۶** | `evaluate_model(finalModel, ...)` | **ارزیابی نهایی:** محاسبه معیارهای تخصصی (Accuracy, Recall, F1-Score) و رسم نمودارهای نهایی (Confusion Matrix و ROC Curve). | گزارش متنی و نمودارهای ذخیره شده در `results/` |

---

## ۳. نقشه راه یادگیری برای همکار جدید (Learning Roadmap)

برای اینکه به سرعت با منطق و جزئیات فنی پروژه آشنا شوید، پیشنهاد می‌شود مستندات موجود را به ترتیب زیر مطالعه کنید. این مستندات به زبان فارسی و با جزئیات کامل در پوشه‌های مختلف پروژه قرار دارند:

### فاز ۱: درک کلی و داده‌ها (چرا و با چه چیزی؟)

1.  **`doc/Project_Roadmap.md`**
    *   **هدف:** درک هدف اصلی پروژه، نیازمندی‌ها و مراحل کلی اجرا (PRD).
2.  **`data/README.md`**
    *   **هدف:** آشنایی با دیتاست Pima Indians Diabetes، معنای هر ستون و مشکلات کیفی داده‌ها (مانند مقادیر صفر غیرمنطقی).
3.  **`doc/Design.md`**
    *   **هدف:** درک معماری سیستم، ساختار پوشه‌ها و نقش هر فایل در جریان کلی.

### فاز ۲: درک منطق فنی و کد (چگونه؟)

در این فاز، مستندات فنی توابع در پوشه `src/doc/` را به ترتیب اجرای آن‌ها در `main.m` مطالعه کنید. این فایل‌ها توضیح خط به خط کدها را ارائه می‌دهند:

1.  **`src/doc/load_data.md`**: نحوه بارگذاری امن داده‌ها.
2.  **`src/doc/analyze_data.md`**: نحوه تحلیل اکتشافی داده‌ها (EDA) و توجیه بصری تصمیمات بعدی.
3.  **`analysis/Data_Analysis_Report.md`**: **(بسیار مهم)** این گزارش نتایج EDA را تحلیل می‌کند و دلایل فنی برای انتخاب روش‌های پیش‌پردازش (مانند جایگزینی با میانه) و انتخاب مدل (مانند استفاده از Ensemble) را توضیح می‌دهد.
4.  **`src/doc/preprocess.md`**: نحوه تمیزکاری، نرمال‌سازی و تقسیم داده‌ها.
5.  **`src/doc/compare_models.md`**: نحوه مقایسه اولیه مدل‌ها و انتخاب بهترین کاندید.
6.  **`src/doc/optimize_model.md`**: نحوه بهینه‌سازی پارامترهای مدل برنده.
7.  **`src/doc/evaluate_model.md`**: نحوه ارزیابی تخصصی مدل با معیارهای پزشکی (ROC, F1-Score, Confusion Matrix).

### فاز ۳: جمع‌بندی و نتایج (چه شد؟)

1.  **`analysis/Results_Analysis.md`**
    *   **هدف:** تحلیل عملکرد نهایی مدل، بررسی ماتریس خطا (Confusion Matrix) و نمودار ROC. این گزارش نقاط قوت (Specificity بالا) و نقاط ضعف (Recall متوسط) مدل را مشخص می‌کند.

با اتمام این نقشه راه، شما درک کاملی از چرایی، چگونگی و نتایج فنی پروژه خواهید داشت و آماده همکاری در توسعه یا نگهداری آن خواهید بود.
